<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) -->
<title>JpaDialect (Spring Framework 7.0.1 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.springframework.orm.jpa, interface: JpaDialect">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../../../../resource-files/stylesheet.css">
<script type="text/javascript" src="../../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/JpaDialect.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../search.html">Search</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<div class="about-language">Spring Framework</div>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">org.springframework.orm.jpa</a></li>
<li><a href="JpaDialect.html" class="current-selection">JpaDialect</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#beginTransaction(jakarta.persistence.EntityManager,org.springframework.transaction.TransactionDefinition)" tabindex="0">beginTransaction(EntityManager, TransactionDefinition)</a></li>
<li><a href="#prepareTransaction(jakarta.persistence.EntityManager,boolean,java.lang.String)" tabindex="0">prepareTransaction(EntityManager, boolean, String)</a></li>
<li><a href="#cleanupTransaction(java.lang.Object)" tabindex="0">cleanupTransaction(Object)</a></li>
<li><a href="#getJdbcConnection(jakarta.persistence.EntityManager,boolean)" tabindex="0">getJdbcConnection(EntityManager, boolean)</a></li>
<li><a href="#releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle,jakarta.persistence.EntityManager)" tabindex="0">releaseJdbcConnection(ConnectionHandle, EntityManager)</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../../../../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../../../../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Interface JpaDialect" class="title">Interface JpaDialect</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Superinterfaces:</dt>
<dd><code><a href="../../dao/support/PersistenceExceptionTranslator.html" title="interface in org.springframework.dao.support">PersistenceExceptionTranslator</a></code></dd>
</dl>
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="DefaultJpaDialect.html" title="class in org.springframework.orm.jpa">DefaultJpaDialect</a>, <a href="vendor/EclipseLinkJpaDialect.html" title="class in org.springframework.orm.jpa.vendor">EclipseLinkJpaDialect</a>, <a href="vendor/HibernateJpaDialect.html" title="class in org.springframework.orm.jpa.vendor">HibernateJpaDialect</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">JpaDialect</span><span class="extends-implements">
extends <a href="../../dao/support/PersistenceExceptionTranslator.html" title="interface in org.springframework.dao.support">PersistenceExceptionTranslator</a></span></div>
<div class="block">SPI strategy that encapsulates certain functionality that standard JPA 3.0 does
not offer, such as access to the underlying JDBC Connection. This strategy is
mainly intended for standalone usage of a JPA provider; most of its functionality
is not relevant when running with JTA transactions.

<p>In general, it is recommended to derive from <a href="DefaultJpaDialect.html" title="class in org.springframework.orm.jpa"><code>DefaultJpaDialect</code></a> instead
of implementing this interface directly. This allows for inheriting common behavior
(present and future) from DefaultJpaDialect, only overriding specific hooks to
plug in concrete vendor-specific behavior.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>2.0</dd>
<dt>Author:</dt>
<dd>Juergen Hoeller, Rod Johnson</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="DefaultJpaDialect.html" title="class in org.springframework.orm.jpa"><code>DefaultJpaDialect</code></a></li>
<li><a href="JpaTransactionManager.html#setJpaDialect(org.springframework.orm.jpa.JpaDialect)"><code>JpaTransactionManager.setJpaDialect(JpaDialect)</code></a></li>
<li><a href="JpaVendorAdapter.html#getJpaDialect()"><code>JpaVendorAdapter.getJpaDialect()</code></a></li>
<li><a href="AbstractEntityManagerFactoryBean.html#setJpaDialect(org.springframework.orm.jpa.JpaDialect)"><code>AbstractEntityManagerFactoryBean.setJpaDialect(JpaDialect)</code></a></li>
<li><a href="AbstractEntityManagerFactoryBean.html#setJpaVendorAdapter(org.springframework.orm.jpa.JpaVendorAdapter)"><code>AbstractEntityManagerFactoryBean.setJpaVendorAdapter(JpaVendorAdapter)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#beginTransaction(jakarta.persistence.EntityManager,org.springframework.transaction.TransactionDefinition)" class="member-name-link">beginTransaction</a><wbr>(jakarta.persistence.EntityManager&nbsp;entityManager,
 <a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Begin the given JPA transaction, applying the semantics specified by the
given Spring transaction definition (in particular, an isolation level
and a timeout).</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#cleanupTransaction(java.lang.Object)" class="member-name-link">cleanupTransaction</a><wbr>(<a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transactionData)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Clean up the transaction via the given transaction data.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="../../jdbc/datasource/ConnectionHandle.html" title="interface in org.springframework.jdbc.datasource">ConnectionHandle</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getJdbcConnection(jakarta.persistence.EntityManager,boolean)" class="member-name-link">getJdbcConnection</a><wbr>(jakarta.persistence.EntityManager&nbsp;entityManager,
 boolean&nbsp;readOnly)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Retrieve the JDBC Connection that the given JPA EntityManager uses underneath,
if accessing a relational database.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#prepareTransaction(jakarta.persistence.EntityManager,boolean,java.lang.String)" class="member-name-link">prepareTransaction</a><wbr>(jakarta.persistence.EntityManager&nbsp;entityManager,
 boolean&nbsp;readOnly,
 <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Prepare a JPA transaction, applying the specified semantics.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle,jakarta.persistence.EntityManager)" class="member-name-link">releaseJdbcConnection</a><wbr>(<a href="../../jdbc/datasource/ConnectionHandle.html" title="interface in org.springframework.jdbc.datasource">ConnectionHandle</a>&nbsp;conHandle,
 jakarta.persistence.EntityManager&nbsp;entityManager)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Release the given JDBC Connection, which has originally been retrieved
via <code>getJdbcConnection</code>.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-org.springframework.dao.support.PersistenceExceptionTranslator">Methods inherited from interface&nbsp;<a href="../../dao/support/PersistenceExceptionTranslator.html#method-summary" title="interface in org.springframework.dao.support">PersistenceExceptionTranslator</a></h3>
<code><a href="../../dao/support/PersistenceExceptionTranslator.html#translateExceptionIfPossible(java.lang.RuntimeException)" title="translateExceptionIfPossible(RuntimeException)">translateExceptionIfPossible</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="beginTransaction(jakarta.persistence.EntityManager,org.springframework.transaction.TransactionDefinition)">
<h3>beginTransaction</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">beginTransaction</span><wbr><span class="parameters">(jakarta.persistence.EntityManager&nbsp;entityManager,
 <a href="../../transaction/TransactionDefinition.html" title="interface in org.springframework.transaction">TransactionDefinition</a>&nbsp;definition)</span>
                           throws <span class="exceptions">jakarta.persistence.PersistenceException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a>,
<a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></span></div>
<div class="block">Begin the given JPA transaction, applying the semantics specified by the
given Spring transaction definition (in particular, an isolation level
and a timeout). Called by JpaTransactionManager on transaction begin.
<p>An implementation can configure the JPA Transaction object and then
invoke <code>begin</code>, or invoke a special begin method that takes,
for example, an isolation level.
<p>An implementation can apply the read-only flag as flush mode. In that case,
a transaction data object can be returned that holds the previous flush mode
(and possibly other data), to be reset in <code>cleanupTransaction</code>.
It may also apply the read-only flag and isolation level to the underlying
JDBC Connection before beginning the transaction.
<p>Implementations can also use the Spring transaction name, as exposed by the
passed-in TransactionDefinition, to optimize for specific data access use cases
(effectively using the current transaction name as use case identifier).
<p>This method also allows for exposing savepoint capabilities if supported by
the persistence provider, through returning an Object that implements Spring's
<a href="../../transaction/SavepointManager.html" title="interface in org.springframework.transaction"><code>SavepointManager</code></a> interface.
<a href="JpaTransactionManager.html" title="class in org.springframework.orm.jpa"><code>JpaTransactionManager</code></a> will use this capability if needed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entityManager</code> - the EntityManager to begin a JPA transaction on</dd>
<dd><code>definition</code> - the Spring transaction definition that defines semantics</dd>
<dt>Returns:</dt>
<dd>an arbitrary object that holds transaction data, if any
(to be passed into <a href="#cleanupTransaction(java.lang.Object)"><code>cleanupTransaction(Object)</code></a>). May implement the
<a href="../../transaction/SavepointManager.html" title="interface in org.springframework.transaction"><code>SavepointManager</code></a> interface.</dd>
<dt>Throws:</dt>
<dd><code>jakarta.persistence.PersistenceException</code> - if thrown by JPA methods</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if thrown by JDBC methods</dd>
<dd><code><a href="../../transaction/TransactionException.html" title="class in org.springframework.transaction">TransactionException</a></code> - in case of invalid arguments</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#cleanupTransaction(java.lang.Object)"><code>cleanupTransaction(Object)</code></a></li>
<li><code>EntityTransaction.begin()</code></li>
<li><a href="../../jdbc/datasource/DataSourceUtils.html#prepareConnectionForTransaction(java.sql.Connection,org.springframework.transaction.TransactionDefinition)"><code>DataSourceUtils.prepareConnectionForTransaction(Connection, TransactionDefinition)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="prepareTransaction(jakarta.persistence.EntityManager,boolean,java.lang.String)">
<h3>prepareTransaction</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span>&nbsp;<span class="element-name">prepareTransaction</span><wbr><span class="parameters">(jakarta.persistence.EntityManager&nbsp;entityManager,
 boolean&nbsp;readOnly,
 <a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;name)</span>
                             throws <span class="exceptions">jakarta.persistence.PersistenceException</span></div>
<div class="block">Prepare a JPA transaction, applying the specified semantics. Called by
EntityManagerFactoryUtils when enlisting an EntityManager in a JTA transaction
or a locally joined transaction (for example, after upgrading an unsynchronized
EntityManager to a synchronized one).
<p>An implementation can apply the read-only flag as flush mode. In that case,
a transaction data object can be returned that holds the previous flush mode
(and possibly other data), to be reset in <code>cleanupTransaction</code>.
<p>Implementations can also use the Spring transaction name to optimize for
specific data access use cases (effectively using the current transaction
name as use case identifier).</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entityManager</code> - the EntityManager to begin a JPA transaction on</dd>
<dd><code>readOnly</code> - whether the transaction is supposed to be read-only</dd>
<dd><code>name</code> - the name of the transaction (if any)</dd>
<dt>Returns:</dt>
<dd>an arbitrary object that holds transaction data, if any
(to be passed into cleanupTransaction)</dd>
<dt>Throws:</dt>
<dd><code>jakarta.persistence.PersistenceException</code> - if thrown by JPA methods</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="#cleanupTransaction(java.lang.Object)"><code>cleanupTransaction(Object)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="cleanupTransaction(java.lang.Object)">
<h3>cleanupTransaction</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">cleanupTransaction</span><wbr><span class="parameters">(<a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>&nbsp;transactionData)</span></div>
<div class="block">Clean up the transaction via the given transaction data. Called by
JpaTransactionManager and EntityManagerFactoryUtils on transaction cleanup.
<p>An implementation can, for example, reset read-only flag and
isolation level of the underlying JDBC Connection. Furthermore,
an exposed data access use case can be reset here.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>transactionData</code> - arbitrary object that holds transaction data, if any
(as returned by beginTransaction or prepareTransaction)</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#beginTransaction(jakarta.persistence.EntityManager,org.springframework.transaction.TransactionDefinition)"><code>beginTransaction(EntityManager, TransactionDefinition)</code></a></li>
<li><a href="../../jdbc/datasource/DataSourceUtils.html#resetConnectionAfterTransaction(java.sql.Connection,java.lang.Integer,boolean)"><code>DataSourceUtils.resetConnectionAfterTransaction(Connection, Integer, boolean)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getJdbcConnection(jakarta.persistence.EntityManager,boolean)">
<h3>getJdbcConnection</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type"><a href="https://jspecify.dev/docs/api/org/jspecify/annotations/Nullable.html" title="class or interface in org.jspecify.annotations" class="external-link">@Nullable</a> <a href="../../jdbc/datasource/ConnectionHandle.html" title="interface in org.springframework.jdbc.datasource">ConnectionHandle</a></span>&nbsp;<span class="element-name">getJdbcConnection</span><wbr><span class="parameters">(jakarta.persistence.EntityManager&nbsp;entityManager,
 boolean&nbsp;readOnly)</span>
                                      throws <span class="exceptions">jakarta.persistence.PersistenceException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Retrieve the JDBC Connection that the given JPA EntityManager uses underneath,
if accessing a relational database. This method will just get invoked if actually
needing access to the underlying JDBC Connection, usually within an active JPA
transaction (for example, by JpaTransactionManager). The returned handle will
be passed into the <code>releaseJdbcConnection</code> method when not needed anymore.
<p>This strategy is necessary as JPA does not provide a standard way to retrieve
the underlying JDBC Connection (due to the fact that a JPA implementation might not
work with a relational database at all).
<p>Implementations are encouraged to return an unwrapped Connection object, i.e.
the Connection as they got it from the connection pool. This makes it easier for
application code to get at the underlying native JDBC Connection, like an
OracleConnection, which is sometimes necessary for LOB handling etc. We assume
that calling code knows how to properly handle the returned Connection object.
<p>In a simple case where the returned Connection will be auto-closed with the
EntityManager or can be released via the Connection object itself, an
implementation can return a SimpleConnectionHandle that just contains the
Connection. If some other object is needed in <code>releaseJdbcConnection</code>,
an implementation should use a special handle that references that other object.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>entityManager</code> - the current JPA EntityManager</dd>
<dd><code>readOnly</code> - whether the Connection is only needed for read-only purposes</dd>
<dt>Returns:</dt>
<dd>a handle for the Connection, to be passed into <code>releaseJdbcConnection</code>,
or <code>null</code> if no JDBC Connection can be retrieved</dd>
<dt>Throws:</dt>
<dd><code>jakarta.persistence.PersistenceException</code> - if thrown by JPA methods</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if thrown by JDBC methods</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle,jakarta.persistence.EntityManager)"><code>releaseJdbcConnection(ConnectionHandle, EntityManager)</code></a></li>
<li><a href="../../jdbc/datasource/ConnectionHandle.html#getConnection()"><code>ConnectionHandle.getConnection()</code></a></li>
<li><a href="../../jdbc/datasource/SimpleConnectionHandle.html" title="class in org.springframework.jdbc.datasource"><code>SimpleConnectionHandle</code></a></li>
<li><a href="JpaTransactionManager.html#setDataSource(javax.sql.DataSource)"><code>JpaTransactionManager.setDataSource(DataSource)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle,jakarta.persistence.EntityManager)">
<h3>releaseJdbcConnection</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">releaseJdbcConnection</span><wbr><span class="parameters">(<a href="../../jdbc/datasource/ConnectionHandle.html" title="interface in org.springframework.jdbc.datasource">ConnectionHandle</a>&nbsp;conHandle,
 jakarta.persistence.EntityManager&nbsp;entityManager)</span>
                    throws <span class="exceptions">jakarta.persistence.PersistenceException,
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Release the given JDBC Connection, which has originally been retrieved
via <code>getJdbcConnection</code>. This should be invoked in any case,
to allow for proper release of the retrieved Connection handle.
<p>An implementation might simply do nothing, if the Connection returned
by <code>getJdbcConnection</code> will be implicitly closed when the JPA
transaction completes or when the EntityManager is closed.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>conHandle</code> - the JDBC Connection handle to release</dd>
<dd><code>entityManager</code> - the current JPA EntityManager</dd>
<dt>Throws:</dt>
<dd><code>jakarta.persistence.PersistenceException</code> - if thrown by JPA methods</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - if thrown by JDBC methods</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list-long">
<li><a href="#getJdbcConnection(jakarta.persistence.EntityManager,boolean)"><code>getJdbcConnection(EntityManager, boolean)</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
